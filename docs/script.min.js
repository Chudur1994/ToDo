"use strict";var openAddBtn=document.querySelector(".add-btn"),addContainer=document.querySelector(".add"),confirmAdd=document.querySelector(".confirm-btn"),addInput=document.querySelector("#add-input"),addSettings=document.querySelector(".add-settings"),dueDateLabel=document.querySelector(".add-settings label"),dueDatePicker=document.querySelector(".add-settings input#due-date"),todosOverlay=document.querySelector(".todos .overlay"),messageModal=document.querySelector("#messageModal"),todoContainer=document.querySelector(".todos"),todos=document.querySelectorAll(".todo"),lastAddedTodo={timeStamp:"",text:""};function addTodo(){lastAddedTodo.text=addInput.value,addInput.value="",lastAddedTodo.timeStamp=(new Date).toLocaleString(),addContainer.classList.remove("show"),confirmAdd.classList.remove("show"),todosOverlay.classList.remove("show"),openAddBtn.classList.remove("hide"),todoContainer.appendChild(makeTodoEl())}function invalidInput(e){messageModal.textContent=e,messageModal.classList.add("show"),setTimeout(function(){messageModal.classList.remove("show")},1500)}function inputIsValid(){return""!=addInput.value}function makeTodoEl(){var e=document.createElement("div");e.classList.add("todo");var t=document.createElement("p");t.classList.add("todo-text"),t.textContent=lastAddedTodo.text;var d=document.createElement("p");return d.classList.add("todo-due"),d.textContent=lastAddedTodo.timeStamp,e.appendChild(t),e.appendChild(d),e}openAddBtn.addEventListener("click",function(e){e.preventDefault(),addContainer.classList.add("show"),confirmAdd.classList.add("show"),this.classList.add("hide"),todosOverlay.classList.add("show"),addInput.focus()}),confirmAdd.addEventListener("click",function(e){e.preventDefault(),inputIsValid()?addTodo():invalidInput("Input is empty.")}),window.addEventListener("click",function(e){e.preventDefault(),e.target!==addInput&&e.target!==addSettings&&e.target!==dueDateLabel&&e.target!==dueDatePicker&&e.target!==openAddBtn&&e.target!==confirmAdd&&(addContainer.classList.remove("show"),confirmAdd.classList.remove("show"),todosOverlay.classList.remove("show"),openAddBtn.classList.remove("hide"))}),addInput.addEventListener("keydown",function(e){"13"==e.keyCode&&(inputIsValid()?addTodo():invalidInput("Input is empty."))});var whatWorksBtn=document.querySelector(".what-works");whatWorksBtn.addEventListener("click",function(e){this.classList.add("hide"),document.querySelector("#things-that-work").classList.add("show")}),document.querySelector(".close").addEventListener("click",function(e){whatWorksBtn.classList.remove("hide"),document.querySelector("#things-that-work").classList.remove("show")});